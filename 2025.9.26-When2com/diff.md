#### 1. 核心理念：强制通信 vs. 按需通信

- **Who2com (强制通信)**：
  - **机制**：假设所有智能体**总是**需要与其中一个支持者进行通信。它只解决了“与谁通信”（Who）的问题。
  - **缺点**：即使智能体自己的观测非常完美（不需要帮助），或者所有邻居的信息全是噪声（有害信息），它也被迫必须选择一个邻居进行连接。这会导致带宽浪费，甚至引入有害信息降低性能 。
- **When2com (按需通信)**：
  - **机制**：不仅学习“与谁通信”，还通过**自注意力机制**（Self-Attention）学习 **“何时通信” (When)** 。
  - **改进**：如果智能体发现自己的 Query 和自身的 Key 匹配度 ($m_{i,i}$) 很高，说明自己信息足够，它就会**切断**对外通信 。



#### 2. 技术实现：自注意力模块 (Self-Attention)

- **Who2com**：
  - 缺乏自我检查机制。它排除（或不利用）自身的 Query-Key 匹配分数作为“门控”信号，总是从外部寻找匹配分数最高的邻居 。
- **When2com**：
  - 引入了 **$m_{i,i} = \Phi(\mu_i, \kappa_i)$**（即自己查自己）。
  - **逻辑**：如果 $m_{i,i}$（自信度）很高，它可以压制 $m_{i,j}$（对外部的需求），从而决定不开启传输通道。这有效地在不需要时“关掉”了通信 。



#### 3. 带宽消耗对比 (Bandwidth Efficiency)

由于 When2com 可以在不需要时保持静默，它的带宽效率显著高于 Who2com：

- **Who2com**：带宽消耗较高，因为它无法修剪那些“虽建立了连接但实际并不需要”的传输。
- **When2com**：带宽消耗更低。
  - **数据支撑**：在单请求（SRMS）实验中，Who2com 消耗 **2.0 MBpf**，而 When2com 仅消耗 **0.98 MBpf**，且准确率更高 。



#### 4. 抗干扰能力 (Detrimental Messages)

- **Who2com**：在所有邻居都是噪声（Noisy）或数据受损的情况下，因为它被迫建立连接，可能会引入错误的外部信息，导致性能甚至不如完全不通信。

- **When2com**：能够识别出外部信息是有害的或者不必要的，从而拒绝接收，仅仅依赖自己（哪怕自己是部分受损的，也比引入纯噪声要好），从而避免了性能恶化。

  

#### 总结

| **特性**     | **Who2com**                        | **When2com (本文模型)**                     |
| ------------ | ---------------------------------- | ------------------------------------------- |
| **决策范围** | 仅决定 **与谁 (Who)** 通信         | 决定 **何时 (When)** 及 **与谁 (Who)** 通信 |
| **通信频率** | 总是通信 (Always communicates)     | 动态通信 (仅在需要时) 12                    |
| **关键机制** | 握手匹配 (Handshake)               | 握手匹配 + **自注意力门控 ($m_{i,i}$)** 13  |
| **带宽效率** | 较低 (2.0 MBpf) 14                 | **极高 (0.98 MBpf)** 15                     |
| **主要缺陷** | 在信息充足时浪费带宽；可能引入噪声 | 稍微增加了计算自身的复杂度 (可忽略)         |



#### 一句话概括

When2com 是在 Who2com 的基础上，给智能体增加了一个“自信心检查”开关，让它们学会了“闭嘴”，从而更省流量且更聪明。